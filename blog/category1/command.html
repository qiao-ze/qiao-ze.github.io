<!DOCTYPE html>

<html lang="zh-CN"  class=" language_zh ">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="keywords" content="指令">
    
    
    <meta name="description" content="teedoc 生成静态博客页面, 第3篇博客">
    
    <meta name="generator" content="teedoc">
    <meta name="theme" content="teedoc-plugin-theme-default">
    
        
        <meta name="markdown-generator" content="teedoc-plugin-markdown-parser">
        
        <script>
MathJax = {"loader": {"load": ["output/svg"]}, "tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]]}, "svg": {"fontCache": "global"}};
</script>
        
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
        <script src="/static/js/theme_default/pre_main.js"></script>
        
        <link rel="stylesheet" href="/static/css/theme_default/prism.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/viewer.min.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/dark.css" type="text/css"/>
        
        <link rel="stylesheet" href="/static/css/theme_default/light.css" type="text/css"/>
        
        <script src="/static/js/theme_default/jquery.min.js"></script>
        
        <script src="/static/js/theme_default/split.js"></script>
        
        <link rel="stylesheet" href="/static/css/search/style.css" type="text/css"/>
        
        <meta name="blog-generator" content="teedoc-plugin-blog">
        
        <link rel="stylesheet" href="/static/css/custom.css" type="text/css"/>
        
    
    
    <title>计算常用命令 - qiao-ze</title>
    
    <script type="text/javascript">js_vars = {}</script>
    <script type="text/javascript">metadata = {"tags": ["DFT", "blog", "Gaussian"], "date": "2023-12-11", "update": [], "ts": 1702252800, "author": "derk", "brief": "", "cover": ""}</script>
</head>


<body class="type_doc">
    
    <div id="navbar">
        <div id="navbar_menu">
            <a class="site_title" href="/">
                
                    <img class="site_logo" src="/static/image/logo.png" alt="my_site logo">
                
                
                    <h2>qiao-ze</h2>
                
        </a>
            <a id="navbar_menu_btn"></a>
        </div>
        <div id="navbar_items">
            <div>
                <ul id="nav_left">
<li class=""><a  href="/get_started/zh/">[ 安装使用 ]</a></li>
<li class="active"><a  href="/blog/">[ 个人博客 ]</a></li>
</ul>

            </div>
            <div>
                <ul id="nav_right">
<li class=""><a target="_blank" href="https://github.com/neutree/teedoc">github</a></li>
</ul>

                <ul class="nav_plugins"><li><a id="themes" class="light"></a></li></ul><ul class="nav_plugins"><li><a id="search"><span class="icon"></span><span class="placeholder">搜索</span>
                            <div id="search_hints">
                                <span id="search_input_hint">输入关键词，多关键词空格隔开</span>
                                <span id="search_loading_hint">正在加载，请稍候。。。</span>
                                <span id="search_download_err_hint">下载文件失败，请刷新重试或检查网络</span>
                                <span id="search_other_docs_result_hint">来自其它文档的结果</span>
                                <span id="search_curr_doc_result_hint">当前文档搜索结果</span>
                            </div></a></li></ul>
            </div>
        </div>
    </div>
    
    <div id="wrapper">
        <div id="sidebar_wrapper">
            <div id="sidebar">
                <div id="sidebar_title">
                    
                </div>
                <ul class="">
</ul>

            </div>
        </div>
        <div id="article">
            <div id="menu_wrapper">
                <div id="menu">
                </div>
            </div>
            <div id="content_wrapper">
                <div id="content_body">
                    <div id="article_head">
                        <div id="article_title">
                            
                            <h1>计算常用命令</h1>
                            
                        </div>
                        <div id="article_tags">
                            <ul>
                            
                                <li>DFT</li>
                            
                                <li>blog</li>
                            
                                <li>Gaussian</li>
                            
                            </ul>
                        </div>
                        <div id="article_info">
                        <div id="article_info_left">
                            <span class="article_author">
                                derk
                            </span>
                            
                                <span class="article_date" title="最后修改日期： 2023-12-11">
                                    2023-12-11
                                </span>
                            
                        </div>
                        <div id="article_info_right">
                            
                            <div id="source_link">
                                <a href="https://github.com/qiao-ze/qiao-ze.github.io/blob/main/blog/category1/command.md" target="_blank">
                                    编辑本页
                                </a>
                            </div>
                            
                        </div>
                        </div>
                    </div>
                    <div id="article_tools">
                        <span></span>
                        <span id="toc_btn"></span>
                    </div>
                    <div id="update_history">
                        
                    </div>
                    <div id="article_content">
                        
                            <span id="blog_start"></span><p><strong><center><font face="微软雅黑" color=maroon size=5>常用命令与设置参数</font></center></strong></p>
<center><font face="Consolas" size=3>06/12-23 by Qiao</font></center>
<p><strong><font face="微软雅黑" color=blue size=4>定时执行命令at</font></strong><br><br><font face="Consolas" size=3>at -V 「查看是否安装at命令」</font><br><font face="Consolas" size=3>sudo systemctl enable --now atd</font><br><font face="Consolas" size=3>（启动 at 守护进程，称为 atd 。 在大多数 Linux 系统上，你可以使用 systemctl 命令启用 atd 服务并将它们设置为从现在开始自动启动）</font><br><font face="Consolas" size=3>echo &quot;g09 &lt; 1.gjf &gt; 1.out&quot; | at 1:30 </font><br><font face="Consolas" size=3>(在1:30执行命令g09 &lt; 1.gjf &gt; 1.out)</font><br><font face="Consolas" size=3>atq (查看 at 任务队列)</font><br><font face="Consolas" size=3>atrm 7 (要从队列中删除任务，请使用 atrm 命令和任务编号。例如要删除任务7)</font><br></p>
<p><strong><font face="微软雅黑" color=blue size=4>xtb的基本使用</font></strong><br></p>
<p><font face="Consolas" size=3>参考命令：xtb 1.xyz --opt extreme --gfn 2<br />
xtb的输入文件就是一个xyz文件，这是最常用的记录分子结构的格式之一，很多程序都可以产生。用Multiwfn产生也可以，可以把fch、pdb、mol、wfn、wfx、molden等Multiwfn能认的格式载入Multiwfn，然后进入主功能100的子功能2，选择输出xyz文件。由于这个文件格式非常简单，比如自己把Gaussian的.gjf文件编辑一下产生也可以。<br><br />
xtb的详细使用说明也可以通过xtb -h查看。几个比较常用的选项如下<br><br />
-c或--chrg：设定体系净电荷 <br><br />
-u或--uhf：设定alpha电子数减beta电子数（相当于自旋多重度减1）<br><br />
-g或--gbsa：使用隐式溶剂模型。目前支持的溶剂有toluene、thf、methanol、h2o、ether、chcl3、acetonitrile、acetone、cs2<br><br />
--molden：计算结束后产生molden.input，这是Molden输入文件 <br><br />
--gfn：选择GFN-xTB理论的版本，可以为0、1、2。如--gfn 0就代表GFN0-xTB。GFN2-xTB物理上最严格，多数情况精度最佳，但有时候SCF收敛困难；GFN1-xTB不如GFN2-xTB严格，平均精度稍逊一点，但SCF收敛容易（因此明显更适合SCF难收敛的金属团簇等情况），耗时也比GFN2-xTB低一些。GFN0-xTB精度最烂但速度也最快，非常适合快速简单粗暴地搞巨大体系，但对于找过渡态的目的就太糙了而不建议用<br><br />
常用任务类型：<br><br />
--sp：计算单点（此为默认，可不写）<br><br />
--grad：计算梯度<br><br />
--opt [级别]：几何优化。级别默认为normal，更佳的是tight、verytight、extreme<br><br />
--hess：计算数值Hessian并做振动分析<br><br />
--ohess [级别]：优化后自动计算Hessian并做振动分析<br><br />
--md：基于当前结构做分子动力学（目前xtb还支持metadynamics，详见手册）<br><br />
--omd：优化后做分子动力学<br><br />
例如：<br><br />
对yoshiko.xyz做真空中的单点计算，电荷为1，自旋多重度为2（alpha比beta电子多1个）：xtb yoshiko.xyz --chrg 1 --uhf 1 -sp<br><br />
对yohane.xyz做甲苯溶剂下优化和振动分析。体系是默认的中性单重态：xtb yohane.xyz --ohess --gbsa toluene<br />
xtb运行时一方面会在屏幕上输出信息，同时也会在当前目录下产生一大堆文件。这些文件的含义在自带的文档里有说明。<br />
xtb目前有解析梯度，但只支持数值Hessian。--hess或-ohess任务做完会输出g98.out和g98_canmode.out。前者是模仿高斯freq输出格式来输出频率、红外强度、正则坐标。后者没用。<br />
--opt任务产生的xtbopt.xyz是最后结构的xyz坐标文件，其中第二行是对应的能量。xtbopt.log是含有优化过程每一帧的多帧xyz文件，后缀改为.xyz后就可以拖入VMD查看优化轨迹。<br />
Multiwfn可以载入xtb用--molden产生的molden.input文件做十分丰富的波函数分析，相关知识看《Multiwfn波函数分析程序的意义、功能与用途》（<a href="http://sobereva.com/184%EF%BC%89%E3%80%81%E3%80%8AMultiwfn%E5%85%A5%E9%97%A8tips%E3%80%8B%EF%BC%88http://sobereva.com/167%EF%BC%89%E3%80%82"  target="_blank">http://sobereva.com/184%EF%BC%89%E3%80%81%E3%80%8AMultiwfn%E5%85%A5%E9%97%A8tips%E3%80%8B%EF%BC%88http://sobereva.com/167%EF%BC%89%E3%80%82</a><br />
Multiwfn载入--hess或--ohess的输出文件后，进主功能11，选择IR或Raman，进入界面后选0就可以绘制出相应的光谱，超级容易。更多信息见《使用Multiwfn绘制红外、拉曼、UV-Vis、ECD、VCD和ROA光谱图》（<a href="http://sobereva.com/224%EF%BC%89%E3%80%82"  target="_blank">http://sobereva.com/224%EF%BC%89%E3%80%82</a></font><br></p>
<p><strong><font face="微软雅黑" color=blue size=4>lampps常用命令</font></strong><br></p>
<font face="Consolas" size=3>
安装参考： https://zhuanlan.zhihu.com/p/337947153<br>
运行命令<br> 
mpirun -np 2 ~/lammps/build/lmp -in ~/lammps/examples/deposit/in.deposit.atom 3374<br>
mpirun -np 4 ~/lammps/build/lmp -in ~/lammps/examples/deposit/in.deposit.atom 4437<br>
mpirun -np 6 ~/lammps/build/lmp -in ~/lammps/examples/deposit/in.deposit.atom 5057<br>
mpirun -np 8 ~/lammps/build/lmp -in ~/lammps/examples/deposit/in.deposit.atom 5794<br>
mpirun -np 10 ~/lammps/build/lmp -in ~/lammps/examples/deposit/in.deposit.atom 6533<br>
mpirun -np 12 ~/lammps/build/lmp -in ~/lammps/examples/deposit/in.deposit.atom 7589<br>
mpirun -np 14 ~/lammps/build/lmp -in ~/lammps/examples/deposit/in.deposit.atom 6850<br>
mpirun -np 16 ~/lammps/build/lmp -in ~/lammps/examples/deposit/in.deposit.atom 5302</font><br>
<br>
<strong><font face="微软雅黑" color=blue size=4>bat脚本</font></strong><br>
<br>
<font face="Consolas" size=3>
000_gjf2xyz_copy2xtb.bat<br>
Multiwfn 1.gjf < gjf2xyz.txt<br>
copy "d:\app\lab app\Multiwfn_3.8_dev_bin_Win64\1.xyz" "d:\app\lab app\xtb-6.7.0\bin\1.xyz"<br>
<br>
000_Run_xtb.bat<br>
cmd /k "cd /d D:\app\lab app\xtb-6.7.0\bin&&xtb 1.xyz --opt extreme --gfn 2"<br>
<br>
000_log2xyz.bat<br>
ren *.log *_000.xyz</font><br>

                        
                    </div>
                </div>
                <div id="previous_next">
                    <div id="previous">
                        
                    </div>
                    <div id="next">
                        
                    </div>
                </div>
                <div id="comments-container"></div>
            </div>
            <div id="toc_wrapper">
                <div id="toc">
                    <div id="toc_content">
                            
                    </div>
                </div>
            </div>
        </div>
    </div>
    <a id="to_top" href="#"></a>
    <div id="doc_footer">
        <div id="footer">
            <div id="footer_top">
                <ul>
<li><a>链接</a><ul><li><a target="_blank" href="https://teedoc.neucrack.com">使用 teedoc 构建</a></li>
<li><a  href="/sitemap.xml">网站地图</a></li>
</ul>
</li>
<li><a>源码</a><ul><li><a target="_blank" href="https://github.com/neutree/teedoc">github</a></li>
<li><a target="_blank" href="https://gitee.com/teedoc/teedoc">gitee</a></li>
<li><a target="_blank" href="https://github.com/teedoc/teedoc.github.io">本网站源文件</a></li>
</ul>
</li>
</ul>

            </div>
            <div id="footer_bottom">
                <ul>
<li><a target="_blank" href="https://beian.miit.gov.cn">*ICP备********号</a></li>
<li><a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=****************">*公网安备***********号</a></li>
</ul>

            </div>
        </div>
    </div>
    
        <script src="/teedoc-plugin-markdown-parser/mermaid.min.js"></script>
    
        <script>mermaid.initialize({startOnLoad:true});</script>
    
        <script src="/static/js/theme_default/tocbot.min.js"></script>
    
        <script src="/static/js/theme_default/main.js"></script>
    
        <script src="/static/js/theme_default/viewer.min.js"></script>
    
        <script src="/static/css/theme_default/prism.min.js"></script>
    
        <script src="/static/js/search/search_main.js"></script>
    
        <script src="/static/js/plugin_blog/main.js"></script>
    
        <script src="/static/js/custom.js"></script>
    
</body>

</html>